<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TicTacToe">
    <meta name="description" content="Strategic TicTacToe with AI and multiplayer">
    <meta name="theme-color" content="#667eea">
    <title>TicTacToe Advanced</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">
</head>
<body>
    <div class="container">
        <header>
            <h1>TicTacToe Advanced</h1>
            <p>Play against AI or challenge a friend!</p>
        </header>

        <div class="game-mode-selection" id="gameModeSelection">
            <h2>Choose Game Mode</h2>
            <div class="mode-buttons">
                <button class="mode-btn" onclick="startGame('ai')">
                    <span class="mode-icon">ü§ñ</span>
                    <span class="mode-text">Play vs AI</span>
                </button>
                <button class="mode-btn" onclick="startGame('multiplayer')">
                    <span class="mode-icon">üë•</span>
                    <span class="mode-text">Local Multiplayer</span>
                </button>
                <button class="mode-btn" onclick="startGame('online')">
                    <span class="mode-icon">üåê</span>
                    <span class="mode-text">Online Multiplayer</span>
                </button>
            </div>
        </div>

        <div class="coin-flip-container" id="coinFlipContainer" style="display: none;">
            <h2>Coin Flip</h2>
            <p>Determining who goes first...</p>
            <div class="coin" id="coin">
                <div class="coin-side coin-green" id="coinGreen">
                </div>
                <div class="coin-side coin-red" id="coinRed">
                </div>
            </div>
            <div class="coin-result" id="coinResult" style="display: none;">
                <h3 id="coinResultText"></h3>
                <button class="control-btn" onclick="proceedToGame()">Start Game</button>
            </div>
        </div>

        <div class="game-container" id="gameContainer" style="display: none;">
            <div class="game-info">
                <div class="current-player" id="currentPlayer">
                    <span class="player-color-indicator" id="playerColorIndicator"></span>
                    <span class="player-name" id="playerName">Player 1's Turn</span>
                </div>
                <div class="game-stats">
                    <div class="stat">
                        <span class="stat-label">Player Wins:</span>
                        <span class="stat-value" id="playerWins">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Draws:</span>
                        <span class="stat-value" id="draws">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">AI/Player2 Wins:</span>
                        <span class="stat-value" id="opponentWins">0</span>
                    </div>
                </div>
            </div>

            <div class="game-area">
                <div class="player-deck left-deck" id="player1Deck">
                    <h3>Player 1 Cards</h3>
                    <div class="deck-container" id="player1DeckContainer">
                        <!-- Player 1 cards will be dynamically generated here -->
                    </div>
                </div>

                <div class="game-board" id="gameBoard">
                    <div class="cell" data-index="0"></div>
                    <div class="cell" data-index="1"></div>
                    <div class="cell" data-index="2"></div>
                    <div class="cell" data-index="3"></div>
                    <div class="cell" data-index="4"></div>
                    <div class="cell" data-index="5"></div>
                    <div class="cell" data-index="6"></div>
                    <div class="cell" data-index="7"></div>
                    <div class="cell" data-index="8"></div>
                    <div class="cell" data-index="9"></div>
                    <div class="cell" data-index="10"></div>
                    <div class="cell" data-index="11"></div>
                    <div class="cell" data-index="12"></div>
                    <div class="cell" data-index="13"></div>
                    <div class="cell" data-index="14"></div>
                    <div class="cell" data-index="15"></div>
                </div>

                <div class="player-deck right-deck" id="player2Deck">
                    <h3>Player 2/AI Cards</h3>
                    <div class="deck-container" id="player2DeckContainer">
                        <!-- Player 2/AI cards will be dynamically generated here -->
                    </div>
                </div>
            </div>

            <div class="game-controls">
                <button class="control-btn" onclick="resetGame()">New Game</button>
                <button class="control-btn" onclick="changeGameMode()">Change Mode</button>
                <button class="control-btn share-btn" id="shareGameBtn" onclick="shareGame()" style="display: none;">üì§ Share Game</button>
            </div>
        </div>

        <div class="game-result" id="gameResult" style="display: none;">
            <h2 id="resultMessage"></h2>
            <button class="control-btn" onclick="resetGame()">Play Again</button>
            <button class="control-btn" onclick="changeGameMode()">Change Mode</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
